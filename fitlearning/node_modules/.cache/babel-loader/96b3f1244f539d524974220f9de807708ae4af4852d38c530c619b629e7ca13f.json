{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { collection, query, getFirestore } from \"firebase/firestore\";\nimport { addDoc } from \"firebase/firestore\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD86Rwy1oDjkiAvYKSDo55SvXhNxARzQUE\",\n  authDomain: \"aws-fitlearning.firebaseapp.com\",\n  databaseURL: \"https://aws-fitlearning-default-rtdb.firebaseio.com\",\n  projectId: \"aws-fitlearning\",\n  storageBucket: \"aws-fitlearning.appspot.com\",\n  messagingSenderId: \"372431024684\",\n  appId: \"1:372431024684:web:cecdc1c6882ba3e0241789\",\n  measurementId: \"G-P72SEPPVBP\"\n};\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\n//initialiser les services\nconst db = getFirestore(app);\nconst productsRef = db.collection('products');\nproducts.forEach(product => {\n  const productRef = database.ref('products/' + product.id);\n  productRef.set({\n    name: product.name,\n    price: product.price,\n    image: product.image.default // Utilisez .default pour obtenir le chemin d'accès de l'image\n  });\n});\n\nexport const getProduct = id => {\n  const productRef = db.ref('products/' + id);\n  return productRef.once('value').then(snapshot => {\n    const product = snapshot.val();\n    return product;\n  });\n};\nconst addProductToFirestore = async product => {\n  try {\n    const productsCollectionRef = collection(db, \"products\"); // Référence de la collection \"products\" dans Firestore\n    await addDoc(productsCollectionRef, product); // Ajouter un nouveau document avec les données du produit\n    console.log(\"Le produit a été ajouté avec succès à Firestore !\");\n  } catch (error) {\n    console.error(\"Erreur lors de l'ajout du produit à Firestore : \", error);\n  }\n};","map":{"version":3,"names":["initializeApp","getAuth","collection","query","getFirestore","addDoc","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","productsRef","products","forEach","product","productRef","database","ref","id","set","name","price","image","default","getProduct","once","then","snapshot","val","addProductToFirestore","productsCollectionRef","console","log","error"],"sources":["/home/cylinux/Bureau/FITBACK/Applications-Web-et-Securite/fitlearning/src/Firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport {collection,query,getFirestore} from\"firebase/firestore\";\r\nimport {  addDoc } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD86Rwy1oDjkiAvYKSDo55SvXhNxARzQUE\",\r\n  authDomain: \"aws-fitlearning.firebaseapp.com\",\r\n  databaseURL: \"https://aws-fitlearning-default-rtdb.firebaseio.com\",\r\n  projectId: \"aws-fitlearning\",\r\n  storageBucket: \"aws-fitlearning.appspot.com\",\r\n  messagingSenderId: \"372431024684\",\r\n  appId: \"1:372431024684:web:cecdc1c6882ba3e0241789\",\r\n  measurementId: \"G-P72SEPPVBP\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\n//initialiser les services\r\nconst db=getFirestore(app);\r\n\r\nconst productsRef = db.collection('products');\r\n\r\nproducts.forEach((product) => {\r\n  const productRef = database.ref('products/' + product.id);\r\n  productRef.set({\r\n    name: product.name,\r\n    price: product.price,\r\n    image: product.image.default, // Utilisez .default pour obtenir le chemin d'accès de l'image\r\n  });\r\n});\r\n\r\nexport const getProduct = (id) => {\r\n  const productRef = db.ref('products/' + id);\r\n  return productRef.once('value')\r\n    .then((snapshot) => {\r\n      const product = snapshot.val();\r\n      return product;\r\n    });\r\n};\r\n\r\nconst addProductToFirestore = async (product) => {\r\n  try {\r\n    const productsCollectionRef = collection(db, \"products\"); // Référence de la collection \"products\" dans Firestore\r\n    await addDoc(productsCollectionRef, product); // Ajouter un nouveau document avec les données du produit\r\n    console.log(\"Le produit a été ajouté avec succès à Firestore !\");\r\n  } catch (error) {\r\n    console.error(\"Erreur lors de l'ajout du produit à Firestore : \", error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,OAAO,QAAQ,eAAe;AACvC,SAAQC,UAAU,EAACC,KAAK,EAACC,YAAY,QAAM,oBAAoB;AAC/D,SAAUC,MAAM,QAAQ,oBAAoB;AAE5C,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,iCAAiC;EAC7CC,WAAW,EAAE,qDAAqD;EAClEC,SAAS,EAAE,iBAAiB;EAC5BC,aAAa,EAAE,6BAA6B;EAC5CC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,GAAG,GAAGf,aAAa,CAACM,cAAc,CAAC;AAEzC,OAAO,MAAMU,IAAI,GAAGf,OAAO,CAACc,GAAG,CAAC;AAChC;AACA,MAAME,EAAE,GAACb,YAAY,CAACW,GAAG,CAAC;AAE1B,MAAMG,WAAW,GAAGD,EAAE,CAACf,UAAU,CAAC,UAAU,CAAC;AAE7CiB,QAAQ,CAACC,OAAO,CAAEC,OAAO,IAAK;EAC5B,MAAMC,UAAU,GAAGC,QAAQ,CAACC,GAAG,CAAC,WAAW,GAAGH,OAAO,CAACI,EAAE,CAAC;EACzDH,UAAU,CAACI,GAAG,CAAC;IACbC,IAAI,EAAEN,OAAO,CAACM,IAAI;IAClBC,KAAK,EAAEP,OAAO,CAACO,KAAK;IACpBC,KAAK,EAAER,OAAO,CAACQ,KAAK,CAACC,OAAO,CAAE;EAChC,CAAC,CAAC;AACJ,CAAC,CAAC;;AAEF,OAAO,MAAMC,UAAU,GAAIN,EAAE,IAAK;EAChC,MAAMH,UAAU,GAAGL,EAAE,CAACO,GAAG,CAAC,WAAW,GAAGC,EAAE,CAAC;EAC3C,OAAOH,UAAU,CAACU,IAAI,CAAC,OAAO,CAAC,CAC5BC,IAAI,CAAEC,QAAQ,IAAK;IAClB,MAAMb,OAAO,GAAGa,QAAQ,CAACC,GAAG,CAAC,CAAC;IAC9B,OAAOd,OAAO;EAChB,CAAC,CAAC;AACN,CAAC;AAED,MAAMe,qBAAqB,GAAG,MAAOf,OAAO,IAAK;EAC/C,IAAI;IACF,MAAMgB,qBAAqB,GAAGnC,UAAU,CAACe,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;IAC1D,MAAMZ,MAAM,CAACgC,qBAAqB,EAAEhB,OAAO,CAAC,CAAC,CAAC;IAC9CiB,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;EAClE,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,kDAAkD,EAAEA,KAAK,CAAC;EAC1E;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}